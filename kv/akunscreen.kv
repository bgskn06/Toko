#:kivy 2.3.0

<AkunScreen>:
    input_email: input_email
    input_alamat: input_alamat
    input_noHp: input_noHp

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: 'Akun Saya'
            size_hint_y: None
            height: 50
            font_size: 24
            halign: 'center'

        AsyncImage:
            id: image_preview
            source: ''
            allow_stretch: True
            keep_ratio: True
            size_hint_y: None
            height: 150
            canvas.before:
                Color:
                    rgba: 0.9, 0.9, 0.9, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

        BoxLayout:
            size_hint_y: None
            height: 40
            spacing: 10

            Button:
                text: 'Pilih Gambar'
                size_hint_x: 0.5
                on_press: root.select_image()

            Button:
                text: 'Hapus Gambar'
                size_hint_x: 0.5
                on_press: root.clear_image()

        TextInput:
            id: input_email
            hint_text: 'Masukkan Email'
            size_hint_y: None
            height: 40
            multiline: False

        TextInput:
            id: input_alamat
            hint_text: 'Masukkan Alamat'
            size_hint_y: None
            height: 40
            multiline: False

        TextInput:
            id: input_noHp
            hint_text: 'Masukkan No Hp'
            size_hint_y: None
            height: 40
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10

            Button:
                text: 'Update'
                on_press: root.update_user()

        # Navigasi Bawah
        BoxLayout:
            size_hint_y: None
            height: '60dp'
            padding: [20, 20]
            spacing: 10

            Button:
                on_press: 
                    app.root.current = 'home'
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/home.png'
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center

            Button:
                on_press: 
                    app.root.current = 'toko'
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/toko.png'
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center

            Button:
                on_press: 
                    app.root.current = "pesanan"
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/histori.png'
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center

            Button:
                on_press: 
                    app.root.current = "akun"
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/logo.png'
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center


<EditAkunScreen>:
    input_email: input_email
    input_alamat: input_alamat
    input_noHp: input_noHp

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: 'Edit Akun'
            size_hint_y: None
            height: 50
            font_size: 24
            halign: 'center'

        AsyncImage:
            id: image_preview
            source: ''
            allow_stretch: True
            keep_ratio: True
            size_hint_y: None
            height: 150
            canvas.before:
                Color:
                    rgba: 0.9, 0.9, 0.9, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            size_hint_y: None
            height: 40
            spacing: 10

            Button:
                text: 'Pilih Gambar'
                size_hint_x: 0.5
                on_press: root.select_image()

            Button:
                text: 'Hapus Gambar'
                size_hint_x: 0.5
                on_press: root.clear_image()

        BoxLayout:
            size_hint_y: None
            height: 40
            spacing: 10

            Button:
                text: 'Pilih Gambar'
                size_hint_x: 0.5
                on_press: root.select_image()

            Button:
                text: 'Hapus Gambar'
                size_hint_x: 0.5
                on_press: root.clear_image()

        TextInput:
            id: input_email
            hint_text: 'Masukkan Email'
            size_hint_y: None
            height: 40
            multiline: False

        TextInput:
            id: input_alamat
            hint_text: 'Masukkan Alamat'
            size_hint_y: None
            height: 40
            multiline: False

        TextInput:
            id: input_noHp
            hint_text: 'Masukkan No Hp'
            size_hint_y: None
            height: 40
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10

            Button:
                text: 'Batal'
                on_press: root.cancel()

            Button:
                text: 'Update'
                on_press: root.update_user()

        
