#:kivy 2.3.0

<PesananScreen>:
    BoxLayout:
        orientation: 'vertical'

        # Pencarian dan ikon
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '45dp'
            padding: [10]
            spacing: 10

            TextInput:
                id: input_barang
                hint_text: 'Cari...'
                size_hint_x: 0.15
                multiline: False
                pos_hint: {'center_y': 0.5}

            Button:
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/cari.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '20dp'
                    height: '20dp'
                    center: self.parent.center

            Button:
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/keranjang.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '20dp'
                    height: '20dp'
                    center: self.parent.center

            Button:
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/pesan.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '20dp'
                    height: '20dp'
                    center: self.parent.center

        # ScrollView untuk konten yang bisa di-scroll
        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                padding: [10, 10]
                spacing: 10
                size_hint_y: None
                height: self.minimum_height

                # Konten
                BoxLayout:
                    orientation: 'horizontal'
                    padding: [10, 10]
                    spacing: 10
                    size_hint_y: None
                    height: '80dp'  # Tetap menjaga tinggi card yang sama

                    # Menambahkan border dengan Canvas
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1  # Warna border hitam
                        Line:
                            width: 0.5  # Ketebalan border
                            rounded_rectangle: (self.x, self.y, self.width, self.height, 10)  # Sudut membulat

                    # Logo Toko di sebelah kiri
                    Image:
                        source: 'asset/logo_toko.png'  # Ganti dengan path logo toko Anda
                        size_hint: None, None
                        width: '78dp'
                        height: '78dp'
                        allow_stretch: True
                        keep_ratio: True
                        pos_hint: {'center_y': 0.5}

                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 5
                        size_hint_y: None
                        height: '60dp'
                        pos_hint: {'center_y': 1}

                        Label:
                            text: 'Nama Barang'  # Ganti dengan nama barang Anda
                            font_size: '16sp'
                            bold: True
                            color: 0, 0, 0, 1  # Warna hitam untuk teks
                            size_hint_y: None
                            height: '30dp'
                            halign: 'left'
                            valign: 'top'
                            text_size: self.size

                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 5
                        size_hint_y: None
                        height: '60dp'
                        pos_hint: {'center_y': 0.5}

                        Label:
                            text: 'x2'
                            font_size: '10sp'
                            color: 0, 0, 0, 1  # Warna hitam untuk teks
                            size_hint_y: None
                            height: '20dp'
                            halign: 'right'
                            valign: 'middle'
                            text_size: self.size
                        Label:
                            text: 'Rp. 20.000'
                            font_size: '10sp'
                            bold: True
                            color: 0, 0, 0, 1  # Warna hitam untuk teks
                            size_hint_y: None
                            height: '20dp'
                            halign: 'right'
                            valign: 'middle'
                            text_size: self.size

                        Label:
                            text: 'Total : Rp. 40.000'
                            font_size: '10sp'
                            bold: True
                            color: 0, 0, 0, 1  # Warna hitam untuk teks
                            size_hint_y: None
                            height: '20dp'
                            halign: 'right'
                            valign: 'middle'
                            text_size: self.size

                # Tombol Beli Lagi di bawah card
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    pos_hint: {'center_x': 0.8}
                    height: '50dp'
                    padding: 10
                    spacing: 10

                    Label:  # Label kosong untuk memberikan ruang di kiri
                        size_hint_x: None
                        width: '100dp'  # Ukuran label untuk memberi ruang

                    Button:
                        text: 'Beli Lagi'
                        size_hint_x: None
                        width: '100dp'  # Sesuaikan lebar tombol
                        height: '50dp'
                        on_press: 
                            print("Tombol Beli Lagi ditekan")

        # Navigasi Bawah
        BoxLayout:
            size_hint_y: None
            height: '60dp'
            padding: [20, 20]
            spacing: 10

            Button:
                on_press:
                    print("Tombol Home")
                    app.root.current = 'home'
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/home.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center

            Button:
                on_press:
                    print("Tombol Toko")
                    app.root.current = 'toko'
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/toko.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center

            Button:
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/histori.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center

            Button:
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/logo.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center
