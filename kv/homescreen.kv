#:kivy 2.3.0

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'

        # Pencarian dan ikon
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '45dp'
            padding: [10]
            spacing: 10

            TextInput:
                id : input_barang
                hint_text: 'Cari...'
                size_hint_x: 0.15
                multiline: False
                pos_hint: {'center_y': 0.5}

            Button:
                on_press: 
                    print("Tombol Cari")
                    app.root.current = "pencarian"
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/cari.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '20dp'
                    height: '20dp'
                    center: self.parent.center

            Button:
                on_press: 
                    print("Tombol Keranjang")
                    app.root.current = "keranjang"
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/keranjang.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '20dp'
                    height: '20dp'
                    center: self.parent.center

            Button:
                on_press: 
                    print("Tombol Pesan")
                    app.root.current = "chat"
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/pesan.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '20dp'
                    height: '20dp'
                    center: self.parent.center


        # Gambar geser di tengah (Carousel)
        Carousel:
            direction: 'right'
            loop: True
            size_hint_y: None
            height: '325dp'  # Tinggikan carousel
            pos_hint: {'center_x': 0.5}
            
            Image:
                source: 'asset/promo3.png'
                allow_stretch: True   # Agar gambar mengisi seluruh area
                keep_ratio: True      # Mempertahankan rasio gambar
                size_hint: (1, None)     # Mengisi seluruh area carousel
                height: '300dp'

            Image:
                source: 'asset/promo2.png'
                allow_stretch: True   # Agar gambar mengisi seluruh area
                keep_ratio: True      # Mempertahankan rasio gambar
                size_hint: (1, None)     # Mengisi seluruh area carousel
                height: '300dp'

            Image:
                source: 'asset/promo1.png'
                allow_stretch: True   # Agar gambar mengisi seluruh area
                keep_ratio: True      # Mempertahankan rasio gambar
                size_hint: (1, None)     # Mengisi seluruh area carousel
                height: '300dp'

        Label:
            text: "..."
            size_hint_y: None
            height: '20dp'
            color: 0, 0, 0, 1
            pos_hint: {'center_x': 0.5}

        # Kategori 
        Label:
            text: "Kategori"
            size_hint_y: None
            height: '30dp'
            font_size: '18sp'
            color: 0, 0, 0, 1
            pos_hint: {'center_x': 0.5}

        ScrollView:
            size_hint_y: None
            height: '150dp'  
            do_scroll_x: True
            do_scroll_y: False

            GridLayout:
                cols: 5
                size_hint_x: None
                width: self.minimum_width
                padding: [10, 10]
                spacing: 10

                # Kategori 1
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: None, None
                    size: '80dp', '100dp'

                    Button:
                        background_normal: 'asset/minyak.png'
                        size_hint: None, None
                        size: '60dp', '60dp'
                        pos_hint: {'center_x': 0.5}

                    Label:
                        text: 'Minyak'
                        size_hint_y: None
                        height: '20dp'
                        font_size: '12sp'
                        color: 0, 0, 0, 1
                        pos_hint: {'center_x': 0.5}

                # Kategori 2
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: None, None
                    size: '80dp', '100dp'

                    Button:
                        background_normal: 'asset/gula.png'
                        size_hint: None, None
                        size: '60dp', '60dp'
                        pos_hint: {'center_x': 0.5}

                    Label:
                        text: 'Gula'
                        size_hint_y: None
                        height: '20dp'
                        font_size: '12sp'
                        color: 0, 0, 0, 1
                        pos_hint: {'center_x': 0.5}

                # Kategori 3
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: None, None
                    size: '80dp', '100dp'

                    Button:
                        background_normal: 'asset/beras.png'
                        size_hint: None, None
                        size: '60dp', '60dp'
                        pos_hint: {'center_x': 0.5}

                    Label:
                        text: 'Beras'
                        size_hint_y: None
                        height: '20dp'
                        font_size: '12sp'
                        color: 0, 0, 0, 1
                        pos_hint: {'center_x': 0.5}

                # Kategori 4
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: None, None
                    size: '80dp', '100dp'

                    Button:
                        background_normal: 'asset/sabun.png'
                        size_hint: None, None
                        size: '60dp', '60dp'
                        pos_hint: {'center_x': 0.5}

                    Label:
                        text: 'Sabun'
                        size_hint_y: None
                        height: '20dp'
                        font_size: '12sp'
                        color: 0, 0, 0, 1
                        pos_hint: {'center_x': 0.5}

                # Kategori 5
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: None, None
                    size: '80dp', '100dp'

                    Button:
                        background_normal: 'asset/gas.png'
                        size_hint: None, None
                        size: '60dp', '60dp'
                        pos_hint: {'center_x': 0.5}

                    Label:
                        text: 'Gas'
                        size_hint_y: None
                        height: '20dp'
                        font_size: '12sp'
                        color: 0, 0, 0, 1
                        pos_hint: {'center_x': 0.5}

        # Navigasi Bawah
        BoxLayout:
            size_hint_y: None
            height: '60dp'
            padding: [20, 20]  
            spacing: 10        

            Button:
                on_press: 
                    print("Tombol Home")
                    app.root.current = 'home'
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/home.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center
            Button:
                on_press: 
                    print("Tombol Toko")
                    app.root.current = 'toko'
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/toko.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center

            Button:
                on_press: 
                    print("Tombol Histori")
                    app.root.current = "pesanan"
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/histori.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center
            
            Button:
                on_press: 
                    print("Tombol Akun")
                    app.root.current = "akun"
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/logo.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center
            
