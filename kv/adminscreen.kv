#:kivy 2.3.0

<AdminScreen>:
    input_email: input_email
    input_alamat: input_alamat
    input_noHp: input_noHp

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '50dp'
            padding: [10, 10, 10, 0]  
            spacing: 10

            Label:
                text: 'Akun Saya'
                font_size: 24
                size_hint_x: 1
                halign: 'center'
                valign: 'middle'
                text_size: self.size  
                color: 0, 0, 0, 1  
        
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 1
            height: '10dp'
            padding: [10, 10, 10, 0]  
            spacing: 10

            Widget:
                size_hint_x: 1

            Button:
                on_press: 
                    print("Logout")
                    app.root.current = 'login'
                size_hint: None, None
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/logout.png'
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center
        
        
        BoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            size_hint_y: None
            height: '500dp'
            pos_hint: {'center_x': 0.5}

            AsyncImage:
                id: image_preview
                source: ''
                allow_stretch: True
                keep_ratio: True
                size_hint_y: None
                height: 150
                canvas.before:
                    Color:
                        rgba: 0.9, 0.9, 0.9, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

            BoxLayout:
                size_hint_y: None
                height: 40
                spacing: 10

                Button:
                    text: 'Pilih Gambar'
                    size_hint_x: 0.5
                    on_press: root.select_image()

                Button:
                    text: 'Hapus Gambar'
                    size_hint_x: 0.5
                    on_press: root.clear_image()

            TextInput:
                id: input_email
                hint_text: 'Masukkan Email'
                size_hint_y: None
                height: 40
                multiline: False

            TextInput:
                id: input_alamat
                hint_text: 'Masukkan Alamat'
                size_hint_y: None
                height: 40
                multiline: False

            TextInput:
                id: input_noHp
                hint_text: 'Masukkan No Hp'
                size_hint_y: None
                height: 40
                multiline: False

            BoxLayout:
                size_hint_y: None
                height: 50
                spacing: 10

                Button:
                    text: 'Update'
                    on_press: root.update_user()

        # Navigasi Bawah
        BoxLayout:
            size_hint_y: None
            height: '60dp'
            padding: [20, 20]
            spacing: 10

            Button:
                on_press: 
                    print("Toko Admin")
                    app.root.current = 'product_list'
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/toko.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center
            
            Button:
                on_press: 
                    print("Tombol Akun")
                    app.root.current = "admin"
                size_hint: None, None
                size_hint_x: 1
                width: '30dp'
                height: '30dp'
                background_normal: ''
                Image:
                    source: 'asset/logo.png'
                    keep_ratio: True
                    allow_stretch: False
                    size_hint: None, None
                    width: '25dp'
                    height: '25dp'
                    center: self.parent.center
